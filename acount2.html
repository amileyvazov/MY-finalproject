<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- font awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer">
    <!-- bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

</head>
<body >
    <div class="container-fluid">
        <div class="row">
            <div class="col-3">
                <header>
                    <div class="row">
                        <div class="list-nav col-12">
                            
                            <div class="catagory col-xl-12 col-sm-12 col-lg-12 mt-4">
                                <ul>
                                    <li>
                                        <a href="">Mənim acountum</a>
                                    </li>
                                    <li>
                                        <a href="">Yaratdığım postlar</a>
                                    </li>
                                    <li>
                                        <a href="">Yaratdiğım kurslar</a>
                                    </li>
                                    <li>
                                        <a href="">Yaratdığım kitablar</a>
                                    </li>
                                    <li>
                                        <a href="">Mənim Haqqımda</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
        
                    </div>
                </header>
            </div>
            <div class="col-9">
                <main>
                 <section>
                    <div class="row">
                        <div class="sec-post-update my-3">
                            <div class="col-xl-12 col-sm-12 col-lg-12 text-center my-5">
                                <h6>Yeni bir</h6>
                                <h2>Kurs yaradın</h2>
                            </div>
                            <div class="col-xl-12 col-sm-12 col-lg-12 my-5">
                                <div class="input-group mb-3 col-xl-12 col-sm-12 col-lg-12">
                                    <label class="w-25 text-center fs-4 fs-normal" for="input-group-text">Kursun şəkili</label>
                                    <input id="courseAvatar" type="text"  class="input-group-text form-control" >
                                    
                                </div>
                                
                                <div class="col-xl-12 col-sm-12 col-lg-12 d-flex my-3">
                                    <label class="w-25 text-center fs-4 fs-normal" for="input-group">Kursun Adı</label>
                                    <input id="courseName" class="input-group form-control form-control-user"  type="text">
    
                                </div>
                                <div class="col-xl-12 col-sm-12 col-lg-12 d-flex my-2">
                                    <label class="w-25 text-center fs-2 fs-normal" for="input-group">Kursun məzmunu</label>
                                    <input id="courseText" class="input-group form-control form-control-user m-2" style="height: 100px;" type="text">
    
                                </div>
                                <div class="col-xl-12 col-sm-12 col-lg-12 d-flex my-3 ">
                                    <label class="w-25 text-center fs-4 fs-normal" for="input-group">Kursun qiyməti</label>
                                    <input id="coursePrice" class="input-group form-control form-control-user" type="text">
    
                                </div>
                                <div class="my-4 col-xl-12 col-sm-12 col-lg-12 text-center d-flex justify-content-between p-4">
                                    <button id="add" class="btn-warning w-100">Yarat</button>
                                    <button id="edit" class="btn-primary w-100">Yenilə</button>
                                    <button id="delete" class="btn-danger w-100">Sil</button>
                                </div>
                            </div>
                        </div>
                    </div>
                 </section>
                 <section>
                    <div class="row my-5">
                        <div class="col-xl-12 col-sm-12 col-lg-12 text-center">
                            <h5>Mənim yaradacağım </h5>
                            <h2>Kitablar</h2>
                        </div>
                        <div class="col-xl-12 col-sm-12 col-lg-12 ">
                            <div class=" d-flex">
                                <label class="w-25 text-center fs-4 fs-normal" for="input-group">Kitab şəkilini yüklə</label>
                                <input id="book-avatar" class="input-group m-2"  type="text">
    
                            </div>
                            <div class=" d-flex">
                                <label class="w-25 text-center fs-4 fs-normal" for="input-group">Kitabın adı</label>
                                <input id="book-name" class="input-group m-2 "  type="text">
    
                            </div>
                            <div class=" d-flex">
                                <label class="w-25 text-center fs-4 fs-normal" for="input-group">Kitabın məzmunu</label>
                                <input id="book-text"class="input-group m-2 w-100 " style="height: 200px;"  type="text">
    
                            </div>
                            <div class=" d-flex">
                                <label class="w-25 text-center fs-4 fs-normal" for="input-group">Kitabın qiyməti</label>
                                <input id="book-price"class="input-group m-2"   type="text">
    
                            </div>
                        </div>
                        
                    </div>
                    <div class="col-xl-12 col-sm-12 col-lg-12">
                        <div class="col-xl-12 col-sm-12 col-lg-12 text-center d-flex justify-content-between p-4">
                            <button id="book-add" class="btn-warning w-100">Yarat</button>
                            <button id="bookedit" class="btn-primary w-100">Yenilə</button>
                            <button id="bookdelete" class="btn-danger w-100">Sil</button>
                        </div>
                    </div>
                 </section>
                  <section>
                    <div class="row">
                        <div class="col-xl-12 col-sm-12 col-lg-12 text-center">
                           <h4>Kursalrı izləyən </h4>
                            <h2>Tələbə siyahısı</h2>
                        </div>
                        <div class="page-body col-xl-10 col-sm-10 col-lg-10 text-center">
                            <table class="table">
                                <thead>
                                  <tr>
                                    <th scope="col">#</th>
                                    <th scope="col">Tələbələri Adları</th>
                                    <th scope="col">İzlədiyi Kurs</th>
                                    <th scope="col">Tələbələrin emaili</th>
                                    <th scope="col">Kursu izlədi son tarix</th>
                                  </tr>
                                </thead>
                                <tbody>
                                  <tr>
                                    <th scope="row">1</th>
                                    <td>Mark</td>
                                    <td>Mikro-biologiya</td>
                                    <td>@mdo</td>
                                    <td>02/07/23</td>
                                  </tr>
                                  <tr>
                                    <th scope="row">2</th>
                                    <td>Jacob</td>
                                    <td>Kimyanın əsasları</td>
                                    <td>@fat</td>
                                    <td>02/07/23</td>
                                  </tr>
                                  <tr>
                                    <th scope="row">3</th>
                                    <td>Ceson</td>
                                    <td>Riyaziyyatın əsasları</td>
                                    <td>@twitter</td>
                                    <td>02/07/23</td>
                                  </tr>
                                </tbody>
                              </table>
                        </div>
                    </div>
                  </section>
                  <section>

                  </section>
                </main>
            </div>
        </div>
    </div>


    <!-- javascript tags -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js" integrity="sha512-3gJwYpMe3QewGELv8k/BX9vcqhryRdzRMxVfq6ngyWXwo03GFEzjsUm8Q7RZcHPHksttq7/GFoxjCVUjkjvPdw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries
      
        // Your web app's Firebase configuration
        const firebaseConfig = {
          apiKey: "AIzaSyC2pFMNIxh4wEXSRYZSI71VNQRiIAylPsI",
          authDomain: "myproject-161de.firebaseapp.com",
          databaseURL: "https://myproject-161de-default-rtdb.firebaseio.com",
          projectId: "myproject-161de",
          storageBucket: "myproject-161de.appspot.com",
          messagingSenderId: "139905651745",
          appId: "1:139905651745:web:7ea3788ada21e9d8993f60"
        };
      
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);


        import{ getDatabase, ref, set , update, remove, get, child  } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-database.js"
     

        const db=getDatabase()
        // Book section input
        const bookAvatar=document.getElementById('book-avatar')
        const bookName=document.getElementById('book-name')
        const bookText=document.getElementById('book-text')
        const bookPrice=document.getElementById('book-price')

        // Book section btn
        const bookCreate=document.getElementById("book-add")
        const bookEdit=document.getElementById('bookedit')
        const bookDelete=document.getElementById('bookdelete')
        // id cretae
         
         function generate_uuidv4(){
            return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,
         function(c) {
           var uuid = Math.random() * 16 | 0, v = c == 'x' ? uuid : (uuid & 0x3 | 0x8);
            return uuid.toString(16);
          });
        }
        const id= generate_uuidv4()

        // Functions 
         function instalBook(){
           set(ref(db, 'books/' + id),{
            Name:bookName.value,
            Text:bookText.value,
            Image:bookAvatar.value,
            Price:bookPrice.value
           })
           .then(alert('kitab əlavə olundu'))
           .catch(err=>console.log(err))

         }
         function editBook(){
          update(ref(db, "book/" + bookName.value),{
            Text:bookText.value,
            Image:bookAvatar.value,
            Price:bookPrice.value
          })
          .then(alert('dəyişiklik qeydə alındı'))
          .catch(err=>console.log(err))
         }
         function deleteBook(){
            remove(ref(db,"book/"))
            .then(alert("kitab silindi"))
            .catch(err=>console.log(err))
         }

        // Btns addEvenlistener 
        bookCreate.addEventListener('click', instalBook)
        bookEdit.addEventListener('click', editBook)
        bookDelete.addEventListener('click', deleteBook)


         // Course section input
         const courseAvatar=document.getElementById('courseAvatar')
        const courseName=document.getElementById('courseName')
        const courseText=document.getElementById('courseText')
        const coursePrice=document.getElementById('coursePrice')
        
        // Course section btn
        const courseCreate=document.getElementById('add')
        const courseEdit=document.getElementById('edit')
        const courseDelete=document.getElementById('delete')
        // id cretae
         

        
        // Functions 
         function instalCourse(){
           set(ref(db, 'course/' + id),{
            Name:courseName.value,
            Text:courseText.value,
            İmage:courseAvatar.value,
            Price:coursePrice.value
           })
           .then(res=>()=>{
             if(res.ok){
             alert('kurs əlavə  olundu')
             }else{
              alert('elave olunmadi')
             }
        
           })
           .catch(err=>console.log(err))
        
         }
         function editCourse(){
          update(ref(db, "course/"  ),{
            Text:courseText.value,
            Image:courseAvatar.value,
            Price:coursePrice.value
          })
          .then(alert('dəyişiklik qeydə alındı'))
          .catch(err=>console.log(err))
         }
         function deleteCourse(){
            remove(ref(db,"course/", id))
            .then(alert("dəyişiklik qeydə alındı"))
            .catch(err=>console.log(err))
         }

        
        // Btns addEvenlistener 
        courseCreate.addEventListener('click',  instalCourse )
        courseEdit.addEventListener('click',  editCourse)
        courseDelete.addEventListener('click', deleteCourse)
      </script>
     
      <script src="./assets/js/fetch.js"></script>
      <script src="./assets/js/script.js"></script>

</body>
</html>